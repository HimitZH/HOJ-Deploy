(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-13f2b59d"],{"7e81":function(t,e,a){},"857a":function(t,e,a){var n=a("1d80"),i=/"/g;t.exports=function(t,e,a,r){var l=String(n(t));t="<"+e;return""!==a&&(t+=" "+a+'="'+String(r).replace(i,"&quot;")+'"'),t+">"+l+"</"+e+">"}},"92bc":function(t,e,a){"use strict";a("7e81")},9911:function(t,e,a){"use strict";var n=a("23e7"),i=a("857a");n({target:"String",proto:!0,forced:a("af03")("link")},{link:function(t){return i(this,"a","href",t)}})},a956:function(t,e,a){"use strict";a.r(e),a("99af"),a("b0c0"),a("9911");var n=a("5530"),i=a("5880"),r=a("b355");i={name:"Editor",props:{value:{type:String,default:""}},data:function(){return{currentValue:this.value,img_file:{}}},methods:{$imgAdd:function(t,e){var a=this,n=new FormData;n.append("image",e),this.$http({url:"/api/file/upload-md-img",method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a.$refs.md.$img2Url(t,e.data.data.link),a.img_file[e.data.data.link]=e.data.data.filePath}))},$imgDel:function(t){this.$http({url:"/api/file/delete-md-img",method:"get",params:{filePath:this.img_file[t[0]]}})},uploadFile:function(){this.$refs.uploadInput.click()},uploadFileChange:function(t){var e=this,a=t.target.files[0];t=new FormData;t.append("file",a),this.$http({url:"/api/file/upload-md-file",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var n=e.$refs.md;n.insertText(n.getTextareaDom(),{prefix:"[".concat(a.name,"](").concat(t.data.data.link,")"),subfix:"",str:""})}))}},watch:{value:function(t){this.currentValue!==t&&(this.currentValue=t)},currentValue:function(t,e){t!==e&&(this.$emit("update:value",t),this.$nextTick((function(t){Object(r.a)()})))}},computed:Object(n.a)({},Object(i.mapGetters)(["isAdminRole"]))},a("92bc"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mavonEditor"},[a("mavon-editor",{ref:"md",attrs:{ishljs:!0,autofocus:!1,codeStyle:"arduino-light"},on:{imgAdd:t.$imgAdd,imgDel:t.$imgDel},scopedSlots:t._u([t.isAdminRole?{key:"left-toolbar-after",fn:function(){return[a("button",{staticClass:"op-icon fa markdown-upload",attrs:{type:"button",title:t.$t("m.Upload_file"),"aria-hidden":"true"},on:{click:t.uploadFile}},[a("i",{staticClass:"el-icon-upload"})])]},proxy:!0}:null],null,!0),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}}),a("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadFileChange}})],1)}),[],!1,null,null,null);e.default=i.exports},af03:function(t,e,a){var n=a("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}))}}}]);